(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},250:function(e,t,n){"use strict";n.r(t),n.d(t,"validateSignUpForm",(function(){return r})),n.d(t,"validateLoginForm",(function(){return c}));var a=n(136),s=n.n(a),r=function(e){var t={},n="",a=!0;return e&&"string"===typeof e.username&&0!==e.username.trim().length||(a=!1,t.username="Please provide a user name."),e&&"string"===typeof e.email&&s.a.isEmail(e.email)||(a=!1,t.email="Please provide a correct email address."),(!e||"string"!==typeof e.password||e.password.trim().length<8)&&(a=!1,t.password="Password must have at least 8 characters."),e&&e.pwconfirm===e.password||(a=!1,t.pwconfirm="Password confirmation doesn't match."),a||(n="Check the form for errors."),{success:a,message:n,errors:t}},c=function(e){var t={},n="",a=!0;return e&&"string"===typeof e.username&&0!==e.username.trim().length||(a=!1,t.username="Please provide your user name."),e&&"string"===typeof e.password&&0!==e.password.trim().length||(a=!1,t.password="Please provide your password."),a||(n="Check the form for errors."),{success:a,message:n,errors:t}}},334:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(12),c=n.n(r),i=(n(159),n(14)),o=(n(160),n(85)),l=n.n(o),j=n(129),d=n(60);n(336),n(337);d.a.initializeApp({apiKey:"AIzaSyBVs-J8gYPsSz0QFaBTdBV6-TdowWj5c6Y",authDomain:"flash-in-auth.firebaseapp.com",projectId:"flash-in-auth",storageBucket:"flash-in-auth.appspot.com",messagingSenderId:"170902088992",appId:"1:170902088992:web:5079cb96e73cbc00663b45"});var b,u,h,p,g,x,m=d.a.storage(),O=d.a.firestore(),f=d.a.firestore.FieldValue.serverTimestamp,v=function(e){var t=Object(a.useState)(0),n=Object(i.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(null),o=Object(i.a)(c,2),d=o[0],b=o[1],u=Object(a.useState)(null),h=Object(i.a)(u,2),p=h[0],g=h[1];return Object(a.useEffect)((function(){var t=m.ref(e.name),n=O.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(t)}),(function(e){g(e)}),Object(j.a)(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:a=e.sent,s=f(),n.add({url:a,createdAt:s}),b(a);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:s,url:d,error:p}},y=n(365),w=n(76),S=n(3),k=function(e){var t=e.file,n=e.setFile,s=v(t),r=s.url,c=s.progress;return console.log(c,r),Object(a.useEffect)((function(){r&&n(null)}),[r]),Object(S.jsx)("div",{children:Object(S.jsx)(y.a,{value:c,style:{color:w.a[500]},color:"secondary"})})},C=n(131),I=n.n(C),F=n(369),N=n(15),T=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),o=Object(i.a)(c,2),l=o[0],j=o[1],d=(Object(N.g)(),["image/png","image/jpg","image/jpeg"]);return Object(S.jsx)(s.a.Fragment,{children:Object(S.jsxs)("form",{action:"",children:[Object(S.jsx)("input",{accept:"image/*",id:"icon-button-file",type:"file",onChange:function(e){var t=e.target.files[0];console.log(t),t&&d.includes(t.type)?(r(t),j(""),console.log("nice"),console.log("file:",n)):(r(null),j("Please select an image file (.png or .jpg only)."),console.log("file:",n))},style:{visibility:"hidden"}}),Object(S.jsx)("br",{}),Object(S.jsx)("label",{htmlFor:"icon-button-file",children:Object(S.jsx)(F.a,{color:"primary",component:"span",children:Object(S.jsx)(I.a,{style:{color:w.a[500],fontSize:40}})})}),Object(S.jsxs)("div",{className:"output",children:[l&&Object(S.jsx)("div",{children:l}),n&&Object(S.jsx)("div",{children:n.name}),Object(S.jsx)("br",{}),n&&Object(S.jsx)(k,{file:n,setFile:r})]}),Object(S.jsx)("br",{}),Object(S.jsx)("br",{})]})})},z=n(87),P=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){var t=O.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(z.a)(Object(z.a)({},e.data()),{},{id:e.id}))})),r(t)}));return function(){t()}}),[e]),console.log("useFirestore"),{docs:s}},B=n(132),A=n.n(B),L=n(373),U=n(133),H=n.n(U),D=n(134),E=n.n(D),M=n(135),R=n.n(M),V=function(e){var t=e.setSelectedImg,n=P("images").docs;console.log(n);var s=Object(a.useRef)(null);return Object(S.jsxs)("div",{style:{maxHeight:"100vh"},children:[Object(S.jsx)(A.a,{monitorImagesLoaded:!0,style:{zIndex:"0",backgroundColor:"#1a1b1f"},columnWidth:150,ref:s,gutterWidth:20,gutterHeight:20,children:n.map((function(e){return Object(S.jsx)(L.a.div,{onClick:function(){return t(e.url)},style:{zIndex:"-1 !important",opacity:1},children:Object(S.jsx)("img",{src:e.url,alt:"uploaded pic",style:{maxHeight:"100%",maxWidth:"100%",borderRadius:10}})})}))}),Object(S.jsx)("div",{style:{textAlign:"center",width:"100%",paddingBottom:"20px"},children:Object(S.jsxs)("footer",{style:{bottom:0,paddingTop:"20px"},children:[Object(S.jsx)("p",{style:{marginTop:"20px",textAlign:"center",color:"#aaa"},children:" Copyright \xa9 2021 Karishma Vanwari"}),Object(S.jsxs)("div",{children:[Object(S.jsx)("a",{href:"https://github.com/KarishmaVanwari",children:Object(S.jsx)(H.a,{style:{marginRight:"10px",fontSize:27}})}),Object(S.jsx)("a",{href:"https://www.linkedin.com/in/karishma-vanwari-a1a025204/",children:Object(S.jsx)(E.a,{style:{marginRight:"10px",fontSize:30}})}),Object(S.jsx)("a",{href:"mailto:karishmagvanwari@gmail.com",children:Object(S.jsx)(R.a,{style:{marginRight:"10px",fontSize:30}})})]})]})})]})},W=n(74),J=n(44),K=n(24),Y=n(142),G=n(141),Q=n(372),X=n(374),_=function(e){var t,n;switch(e.score){case 1:t="red",n="20%";break;case 2:t="orange",n="40%";break;case 3:t="yellow",n="60%";break;case 4:t="#5cff47",n="80%";break;case 5:t="green",n="100%"}var a={backgroundColor:t,height:"5px",width:n,transition:"all 300ms ease-in-out"};return Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{className:"pwStrWeak",children:"weak"}),Object(S.jsx)("p",{className:"pwStrStrong",children:"strong"}),Object(S.jsx)("div",{style:a})]})},q=(n(104),n(371)),Z=n(139),$=n(370),ee=Object(Z.a)({palette:{primary:{main:"#673ab7"},secondary:{main:"#ea0599"}}}),te=function(e){e.history;var t=e.onSubmit,n=e.onChange,a=e.errors,s=e.user,r=e.score,c=e.btnTxt,i=e.type,o=e.pwMask,l=e.onPwChange;return Object(S.jsxs)($.a,{theme:ee,children:[Object(S.jsx)("div",{class:"area",style:{position:"absolute"},children:Object(S.jsxs)("ul",{class:"circles",children:[Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{})]})}),Object(S.jsx)("div",{style:{color:"white",zIndex:1,position:"relative",paddingTop:"28px",fontSize:50,fontFamily:"Comfortaa"},children:"FlashIn"}),Object(S.jsxs)("div",{className:"loginBox",style:{zIndex:1},children:[Object(S.jsx)("h1",{style:{opacity:1},children:"Sign Up"}),a.message&&Object(S.jsx)("p",{style:{color:"red"},children:a.message}),Object(S.jsxs)("form",{onSubmit:t,children:[Object(S.jsx)(X.a,{color:"secondary",className:"textfield",style:{display:"flex"},name:"username",label:"Username",value:s.username,onChange:n}),a&&Object(S.jsx)(q.a,{style:{color:"red"},children:a.username}),Object(S.jsx)(X.a,{color:"secondary",style:{display:"flex"},name:"email",label:"Email",value:s.email,onChange:n}),a&&Object(S.jsx)(q.a,{style:{color:"red"},children:a.email}),Object(S.jsx)(X.a,{color:"secondary",style:{display:"flex"},type:i,name:"password",label:"Password",value:s.password,onChange:l}),a&&Object(S.jsx)(q.a,{style:{color:"red"},children:a.password}),Object(S.jsx)("div",{className:"pwStrRow",children:r>=1&&Object(S.jsxs)("div",{children:[Object(S.jsx)(_,{score:r}),Object(S.jsx)(Q.a,{className:"pwShowHideBtn",label:c,onClick:o,style:{position:"relative",left:"50%",transform:"translateX(-50%)"}})]})}),Object(S.jsx)(X.a,{color:"secondary",style:{display:"flex",color:"green"},type:i,name:"pwconfirm",label:"Confirm Password",value:s.pwconfirm,onChange:n,errorText:a.pwconfirm}),a&&Object(S.jsx)(q.a,{style:{color:"red"},children:a.pwconfirm}),Object(S.jsx)("br",{})," ",Object(S.jsx)("br",{}),Object(S.jsx)(Q.a,{variant:"contained",color:"secondary",className:"signUpSubmit",primary:!0,type:"submit",label:"submit",children:"SIGN UP"})]}),Object(S.jsxs)("p",{children:["Already have an account? ",Object(S.jsx)("br",{}),Object(S.jsx)("a",{href:"/login",children:"Log in here"})]})]})]})},ne=n(58),ae=n(250).validateSignUpForm,se=n(329),re=function(e){Object(Y.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(W.a)(this,n),(a=t.call(this,e)).validateForm=function(e){e.preventDefault();var t=ae(a.state.user);if(console.log("ok",t),t.success){a.setState({errors:{}});var n={usr:a.state.user.username,pw:a.state.user.password,email:a.state.user.email};a.submitSignup(n)}else{var s=t.errors;a.setState({errors:s})}if(a.state.errors)return Object(S.jsx)("h1",{children:a.state.errors})},a.state={errors:{},user:{username:"",email:"",password:"",pwconfirm:""},btnTxt:"show",type:"password",score:"0"},a.pwMask=a.pwMask.bind(Object(K.a)(a)),a.handleChange=a.handleChange.bind(Object(K.a)(a)),a.submitSignup=a.submitSignup.bind(Object(K.a)(a)),a.validateForm=a.validateForm.bind(Object(K.a)(a)),a.pwHandleChange=a.pwHandleChange.bind(Object(K.a)(a)),a}return Object(J.a)(n,[{key:"handleChange",value:function(e){var t=e.target.name,n=this.state.user;n[t]=e.target.value,console.log("user",n),this.setState({user:n})}},{key:"pwHandleChange",value:function(e){var t=e.target.name,n=this.state.user;if(n[t]=e.target.value,this.setState({user:n}),""===e.target.value)this.setState((function(e){return Object.assign({},e,{score:"null"})}));else{var a=se(e.target.value);this.setState((function(e){return Object.assign({},e,{score:a.score+1})}))}}},{key:"submitSignup",value:function(e){var t={username:e.usr,password:e.pw,email:e.email};console.log("submit "),ne.post("/users/signup",t).then((function(e){console.log("res",e)})).catch((function(e){console.log("Sign up data submit error: ",e)}))}},{key:"pwMask",value:function(e){var t=this;e.preventDefault(),this.setState((function(e){return Object.assign({},e,{type:"password"===t.state.type?"input":"password",btnTxt:"show"===t.state.btnTxt?"hide":"show"})}))}},{key:"render",value:function(){return Object(S.jsx)("div",{children:Object(S.jsx)(te,{className:"content",onSubmit:this.validateForm,onChange:this.handleChange,onPwChange:this.pwHandleChange,errors:this.state.errors,user:this.state.user,score:this.state.score,btnTxt:this.state.btnTxt,type:this.state.type,pwMask:this.pwMask})})}}]),n}(a.Component),ce=n(36),ie=n(58),oe=n.n(ie),le=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(i.a)(c,2),l=o[0],j=o[1],d=Object(a.useState)(null),b=Object(i.a)(d,2),u=(b[0],b[1],Object(a.useState)(!1)),h=Object(i.a)(u,2);h[0],h[1],Object(N.g)();var p={username:n,password:l};return Object(S.jsxs)(s.a.Fragment,{children:[Object(S.jsx)("div",{class:"area",style:{position:"absolute"},children:Object(S.jsxs)("ul",{class:"circles",children:[Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{}),Object(S.jsx)("li",{})]})}),Object(S.jsxs)("div",{className:"bg",children:[Object(S.jsx)("div",{style:{color:"white",zIndex:1,position:"relative",paddingTop:"28px",fontSize:50,fontFamily:"Comfortaa"},children:"FlashIn"}),Object(S.jsxs)("div",{className:"loginBox",style:{zIndex:1},children:[Object(S.jsx)("h1",{children:"Login "}),Object(S.jsxs)("form",{children:[Object(S.jsx)(X.a,{color:"secondary",style:{display:"flex"},name:"username",label:"Username",onChange:function(e){return r(e.target.value)}}),Object(S.jsx)(X.a,{color:"secondary",style:{display:"flex"},type:"password",name:"password",label:"Password",onChange:function(e){return j(e.target.value)}}),Object(S.jsx)("br",{})," ",Object(S.jsx)("br",{}),Object(S.jsx)(Q.a,{variant:"contained",color:"secondary",onClick:function(){console.log("login clicked"),oe.a.post("/users/login",p,{headers:{"Content-Type":"application/json"}}).then((function(e){console.log("data",e.data.message),!0===e.data.auth?(localStorage.token=e.data.token,localStorage.isAuthenticated=!0,window.location.reload(),console.log("sth")):console.log("errors",e.data),console.log("res",e)})).catch((function(e){console.error(e.response.data)}))},children:"LOgIn"})]}),Object(S.jsxs)("p",{children:["Don't have an account? ",Object(S.jsx)("br",{}),Object(S.jsx)("a",{href:"/signup",children:"SignUp here"})]}),localStorage.getItem("token")&&Object(S.jsx)(N.a,{to:"/dashboard"})]})]})]})},je=function(e){var t=e.selectedImg,n=e.setSelectedImg;return Object(S.jsx)("div",{className:"backdrop",onClick:function(e){"DIV"==e.target.nodeName&&n(null),console.log(e.target.nodeName)},children:Object(S.jsx)("img",{src:t,alt:"enlarged img"})})},de=n(48),be=n(140),ue=n(49),he=ue.a.nav(b||(b=Object(de.a)(["\n  background: #1a1b1f;\n  height: 80px;\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5rem calc((100vw - 1400px) / 2);\n  z-index: 10;\n  /* Third Nav */\n  /* justify-content: flex-start; */\n"]))),pe=Object(ue.a)(ce.b)(u||(u=Object(de.a)(["\n  color: #fff;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: 0 1rem;\n  height: 100%;\n  cursor: pointer;\n  &.active {\n    color: #ea0599;\n  }\n"]))),ge=Object(ue.a)(be.a)(h||(h=Object(de.a)(["\n  display: none;\n  color: #fff;\n  @media screen and (max-width: 768px) {\n    display: block;\n    position: absolute;\n    top: 0;\n    right: 0;\n    transform: translate(-100%, 75%);\n    font-size: 1.8rem;\n    cursor: pointer;\n  }\n"]))),xe=ue.a.div(p||(p=Object(de.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: -24px;\n  /* Second Nav */\n  /* margin-right: 24px; */\n  /* Third Nav */\n  /* width: 100vw;\n  white-space: nowrap; */\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),me=ue.a.nav(g||(g=Object(de.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 24px;\n  /* Third Nav */\n  /* justify-content: flex-end;\n  width: 100vw; */\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),Oe=Object(ue.a)(ce.b)(x||(x=Object(de.a)(["\n  border-radius: 4px;\n  background: #ea0599;\n  padding: 10px 22px;\n  color: #fff;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n  /* Second Nav */\n  margin-left: 24px;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #fff;\n    color: #010606;\n  }\n"]))),fe=function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(he,{children:[Object(S.jsx)(pe,{to:"/",style:{fontSize:"40px"},children:"FlashIn"}),Object(S.jsx)(ge,{}),Object(S.jsx)(xe,{}),Object(S.jsxs)(me,{children:[Object(S.jsx)(Oe,{to:"/signup",children:"Sign Up"}),Object(S.jsx)(Oe,{to:"/login",children:"Login"})]})]})})},ve=function(){var e=Object(N.g)();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(he,{children:[Object(S.jsx)(pe,{to:"/",style:{fontSize:"40px"},children:"FlashIn"}),Object(S.jsx)(ge,{}),Object(S.jsx)(xe,{}),Object(S.jsx)(me,{children:Object(S.jsx)(Oe,{to:"/logout",onClick:function(){console.log("gchjv"),oe.a.get("http://localhost:5000/logout").then((function(t){console.log("logout kiya ",t),localStorage.removeItem("token"),localStorage.removeItem("isAuthenticated"),e.push("/login")})).catch((function(e){console.log("logout error: ",e)}))},children:"Logout"})})]})})},ye=Object(Z.a)({palette:{primary:{main:"#673ab7"},secondary:{main:"#ea0599"}}});var we=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(S.jsx)($.a,{theme:ye,children:Object(S.jsx)(ce.a,{children:Object(S.jsx)("div",{className:"App",children:Object(S.jsxs)(N.d,{children:[Object(S.jsxs)(N.b,{exact:!0,path:"/",children:[Object(S.jsx)(fe,{}),Object(S.jsx)(V,{setSelectedImg:s}),n&&Object(S.jsx)(je,{selectedImg:n,setSelectedImg:s})]}),Object(S.jsx)(N.b,{path:"/signup",children:Object(S.jsx)(re,{})}),Object(S.jsx)(N.b,{path:"/login",children:Object(S.jsx)(le,{})}),Object(S.jsx)(N.b,{path:"/dashboard",children:localStorage.getItem("isAuthenticated")?Object(S.jsxs)("div",{children:[Object(S.jsx)(ve,{}),Object(S.jsx)(T,{}),Object(S.jsx)(V,{setSelectedImg:s}),n&&Object(S.jsx)(je,{selectedImg:n,setSelectedImg:s})]}):Object(S.jsx)("h1",{children:"Login to view this page"})})]})})})})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,375)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};c.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(we,{})}),document.getElementById("root")),Se()}},[[334,1,2]]]);
//# sourceMappingURL=main.d4e1de0d.chunk.js.map